<!DOCTYPE html>
<html>

<head>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Assistant:wght@300&family=Bebas+Neue&family=El+Messiri&family=Libre+Caslon+Display&family=Lora:ital@1&family=Noto+Serif+Display:ital,wght@1,400;1,600&family=Roboto+Serif:opsz@8..144&display=swap"
    rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
    rel="stylesheet">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Browse Spots</title>
  <link href="browse.css" rel="stylesheet" type="text/css" />
  <script src="https://apis.google.com/js/api.js"></script>
  <script>
    const SPREADSHEET_ID = '1CTpUYJJzbvVK463Ozf0gL4ejmGPxdvL4ilh4YU9lDrA';
    const RANGE = 'Study_Spots!A1:G44';

    function start() {
      gapi.client.init({
        apiKey: 'AQ.Ab8RN6K8IWsOQhBf7HaJ1zRi0Ns6vauQtDQV-rsW8tMNDURCNg', // must be a Sheets APIâ€“enabled key
        discoveryDocs: ['https://sheets.googleapis.com/$discovery/rest?version=v4']
      }).then(() => {
        return gapi.client.sheets.spreadsheets.values.get({
          spreadsheetId: SPREADSHEET_ID,
          range: RANGE
        });
      }).then(response => {
        const values = response.result.values;
        if (values && values.length > 0) {
          const table = document.getElementById('sheet-data');
          // Clear previous rows
          table.innerHTML = '';
          // Create table rows
          values.forEach(row => {
            const tr = document.createElement('tr');
            row.forEach(cell => {
              const td = document.createElement('td');
              td.textContent = cell;
              tr.appendChild(td);
            });
            table.appendChild(tr);
          });
        } else {
          document.getElementById('sheet-data').innerHTML = '<tr><td>No data found</td></tr>';
        }
      }, reason => {
        console.error('Error: ' + reason.result.error.message);
      });
    }

    gapi.load('client', start);
  </script>
</head>

<body>
  <center>
    <div class="container">
      <div class="title">
        <h1> Browse Spots</h1>
      </div>
      <div class="navBar">
        <a href="index.html"> <button class="home">Home</button></a>
        <a href="browse.html"> <button class="browseNav">Browse Spots</button></a>
        <a href="search.html"><button class="search">Search</button></a>
        <a href="about.html"><button class="about">About</button></a>
      </div>
    </div>
  </center>

  <h2>Google Sheet Data</h2>
    <table id="sheet-data" border="1"></table>

  <div class = "playlists">
      <div class = "list">
        <center>
        <h3>Chill Study With Friends</h3>
        </center>
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5WA4m7JKfB0H0KlWOMcnpv?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
      <div class = "list">
        <center>
        <h3>Mildly Quiet Study</h3>
      </center>
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/0iUBsc6IWNwhBlXv4IUTxD?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
      <div class ="list">
        <center>
        <h3>Study Quietly</h3>
      </center>
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/37i9dQZF1EIgnYxCSnxPNW?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
      <div class ="list">
        <center>
        <h3>LOCK IN</h3>
      </center>
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/1KjJ0bhB83jlcA4LQ0u5gZ?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>

  </div>

</body>

</html>